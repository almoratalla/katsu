#!/bin/sh

# Pre-push hook to run tests before pushing
# This ensures code quality and prevents broken builds

echo "ğŸš€ Running pre-push checks..."

# Check if npm is available
if ! command -v npm &> /dev/null; then
    echo "âŒ npm is not available. Skipping pre-push checks."
    exit 0
fi

# Check if package.json exists
if [ ! -f "package.json" ]; then
    echo "âŒ package.json not found. Skipping pre-push checks."
    exit 0
fi

# Run tests if available
if npm test --silent 2>/dev/null; then
    echo "âœ… Tests passed"
else
    echo "âš ï¸  No test script found or tests failed"
fi

# Run build if available
if npm run build --silent 2>/dev/null; then
    echo "âœ… Build passed"
else
    echo "âš ï¸  No build script found or build failed"
fi

echo "âœ… Pre-push checks completed"
