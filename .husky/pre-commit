#!/bin/sh

# Pre-commit hook to run linting and formatting
# This ensures code quality before commits

echo "ğŸ” Running pre-commit checks..."

# Check if npm is available
if ! command -v npm &> /dev/null; then
    echo "âŒ npm is not available. Skipping pre-commit checks."
    exit 0
fi

# Check if package.json exists
if [ ! -f "package.json" ]; then
    echo "âŒ package.json not found. Skipping pre-commit checks."
    exit 0
fi

# Run lint if available
if npm run lint --silent 2>/dev/null; then
    echo "âœ… Linting passed"
else
    echo "âš ï¸  No lint script found or linting failed"
fi

# Run format check if available
if npm run format:check --silent 2>/dev/null; then
    echo "âœ… Format check passed"
else
    echo "âš ï¸  No format:check script found"
fi

echo "âœ… Pre-commit checks completed"
